css: /css/main.css
tags: rust

{{../templates/nav.html}}

# Rust: A beginners guide (for experienced programmers)

A whirlwind tour of the syntax and some key features for the experienced
programmer to be able to get going with Rust. I wrote this for me. Hopefully
others will find it useful.

Bevy is a 2D and 3D game engine for Rust with complementry ECS to boot. I wanted
to look into using Bevy to re-ignite my game development journey. But for that,
I needed to learn Rust. So here is a guide to the getting started with the
language aimed at experienced developers who've seen a few `if`s and `while`
loops in their time. Please note: I'm going for concise code, not necessarily
well formatted.

## Hello World!

    // main.rs
    fn main() { println!("Hello, world!"); } // Minimal Hello, world program.

    rustc main.rs
    ./main
    Hello, world!

## Cargo - A build tool and package manager for Rust

`src/main.rs` is the entrypoint of the default binary.
`target/debug/` is where build artifacts end up in debug mode.
`target/release/` is where build artifacts end up in release mode.

    cargo new proj_name     # Create a new Rust project in proj_name/
    cargo build             # Builds a project in debug mode
    cargo build --release   # Builds a project in release mode
    cargo run               # Runs the default binary
    cargo check             # Checks for errors without building. Fast.

More info at https://doc.rust-lang.org/cargo/.

## Variables

    let x = 5;                // Defines an immutable variable, x (32-bit int)
    let mut y: i64 = 6;       // A mutable variable, y (64-bit int)
    y = 7;                    // Change the value to 7
    const A_CONST: u32 = 10;  // Define a constant with a value of 10
    let z = 1.2;              // A 64 bit float

Constants
* cannot be marked as `mut`able.
* must be annotated with a type (e.g. 32-bit unsigned integer as above)
* can be declared in any scope
* may only be set to a constant expression (they cannot be computed at runtime)

Variables may be shadowed, as in, the same name can be used in in the same or
nested scope and it'll override the one previously defined, allowing variable
name reuse.

## Types

### Integers
Signed: `i8`, `i16`, `i32`, `i64`, `i128`, `isize`
Unsigned: `u8`, `u16`, `u32`, `u64`, `u128`, `usize`

The number indicates the number of bits. `isize` and `usize` means architecture
dependent. Generally used for collection indexes.

Literals are generally prefixed to denote the base. Decimal with no prefix, hex:
0xff, octal: 0o77, binary: 0b1111_0101, byte: b'A'. `_` can be used as a
separator.

Note: Overflow checks are not done in release builds.

### Floats
Two types, `f32` and `f64`.

    let x = 5.0;      // f64
    let y: f32 = 3.0; // f32

### Operations

Usual operators: `+`, `-`, `*`, `/`, `%`. The last being modulo or remainder
There are many more: https://doc.rust-lang.org/book/appendix-02-operators.html.

### Boolean

    let t = true;
    let f: bool = false;

### Char

    let c = 'z';
    let h: char = 'Z';
    let imoji = 'ðŸ˜»';

### Tuple

    let tup = (12, 3.4, 23); // Different types
    let (x, y, z) = tup;
    let last_one = tup.2;

### Array

    let a = [1, 2, 3];      // Same types, length is fixed
    let b: [i32, 5] = [1, 2, 3, 4, 5];
    let c = [3; 5];         // 5 elements all set to the value 3
    let first_item = a[0];

## Functions

Parameter types and return types must be specified in function signatures.

    fn function_name(param: i32) -> i32 {  // types must be specified
      param + 1                     // returns are implicit and no ; is needed
    }

## Control Flow

### if

    let number = 4;
    if number < 5 {
      // This branch will run
    } else if number < 10 {
      //...
    } else {
      //...
    }

    let number = if condition { ... } else { ... }; // `if` is an expression

### loop

    let result = loop {
      // Loop forever!
      break 1; // Actually don't! You can also use `continue` to skip an iteration
    }; // result => 1

### while

    while number != 0 {
      //...
    }

### for

    let a = [1, 2, 3, 4];

    for i in a {
      println!("Value is: {i}");
    }

### match



## Iterators

## Standard Library

### Reading directories and files
